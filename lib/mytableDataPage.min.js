define(["jquery","Pager"],function(t,e){function n(){this.options={theader:[],data:[],rows:5},this.$box=null}function o(t,e){var o=new n;return o.init(t,e),o}return n.prototype={constructor:"Mytable",init:function(e,n){this.options=t.extend({},this.options,n),this.render(e)},render:function(e){this.$box=t("#"+e);var n='<div class="tableBody"><table><thead></thead><tbody></tbody></table></div><div class="tablePage"><select id=\'selectPage\' class="selectPage" value=\'5\'><option value="5" selected>5</option><option value="10">10</option><option value="15">15</option><option value="30">30</option><option value="50">50</option></select><div id=\'table_pages\' class="table_pages"></div></div>';this.$box.html(n),this.renderSelectPage(),this.renderPage(1,this.options.rows,this.options.data.length),this.renderTable(1,this.options.rows)},renderTable:function(e,n){var o=this.options.theader,i=this.options.data,a=[],r=this.$box.find("table"),s="<table><thead><tr>";t.each(o,function(t,e){a.push(e.id),s+="<td mark="+e.id;for(var n=0;n<e.attrs.length;n++)for(var o in e.attrs[n])s+=" "+o+"="+e.attrs[n][o];s+=">"+e.txt+"</td>"}),s+="</tr><tbody>";var l;l=i.concat(),l=l.splice((e-1)*n,n),t.each(l,function(t,e){s+="<tr>";for(var n=0;n<a.length;n++)s+="<td>"+e[a[n]]+"</td>";s+="</tr>"}),s+="</tbody></table>",r.html(s)},renderSelectPage:function(){var e=null,n=this,o=this.options.data.length;this.$box.find("#selectPage").on("change",function(i){e=t(this).val(),n.renderPage(1,e,o),n.renderTable(1,e)})},renderPage:function(t,n,o){var i=this,a=new e("table_pages",t,n,o);a.onclick=function(t){i.renderTable(t,n)},o>10&&a.render()}},{mytable:o}});